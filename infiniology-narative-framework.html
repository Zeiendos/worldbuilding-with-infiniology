<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Infiniology: A Narrative-Driven Framework for Worldbuilding</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""/>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet"/>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

    <!-- Mermaid.js -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>

    <!-- Copyright Notice for Zeiendos -->
    <meta name="copyright" content="© 2024 Zeiendos. All rights reserved."/>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'serif': ['Crimson Text', 'Georgia', 'serif'],
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#1e3a8a',
                        'secondary': '#374151',
                        'accent': '#d97706',
                        'neutral': '#374151',
                        'base': '#f9fafb',
                        'info': '#0ea5e9',
                        'success': '#059669',
                        'warning': '#d97706',
                        'error': '#dc2626',
                    }
                }
            }
        }
    </script>

    <style>
        /* Mermaid diagram styling */
        .mermaid-container {
            display: flex;
            justify-content: center;
            min-height: 300px;
            max-height: 800px;
            background: #ffffff;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 15px;
            margin: 30px 0;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            position: relative;
            overflow: hidden;
        }

        @media (min-width: 768px) {
            .mermaid-container {
                padding: 30px;
            }
        }

        .mermaid-container .mermaid {
            width: 100%;
            max-width: 100%;
            height: 100%;
            cursor: grab;
            transition: transform 0.3s ease;
            transform-origin: center center;
            display: flex;
            justify-content: center;
            align-items: center;
            touch-action: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .mermaid-container .mermaid svg {
            max-width: 100%;
            height: 100%;
            display: block;
            margin: 0 auto;
        }

        .mermaid-container .mermaid:active {
            cursor: grabbing;
        }

        .mermaid-container.zoomed .mermaid {
            height: 100%;
            width: 100%;
            cursor: grab;
        }

        .mermaid-controls {
            position: absolute;
            top: 15px;
            right: 15px;
            display: flex;
            gap: 10px;
            z-index: 20;
            background: rgba(255, 255, 255, 0.95);
            padding: 8px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .mermaid-control-btn {
            background: #ffffff;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            padding: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            color: #374151;
            font-size: 14px;
            min-width: 36px;
            height: 36px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mermaid-control-btn:hover {
            background: #f8fafc;
            border-color: #3b82f6;
            color: #3b82f6;
            transform: translateY(-1px);
        }

        .mermaid-control-btn:active {
            transform: scale(0.95);
        }

        /* Responsive adjustments for mermaid controls */
        @media (max-width: 1024px) {
            .mermaid-control-btn:not(.reset-zoom) {
                display: none;
            }
            .mermaid-controls {
                top: auto;
                bottom: 15px;
                right: 15px;
            }
        }
    </style>
  <base target="_blank">
</head>

  <body class="bg-base text-neutral font-sans leading-relaxed">

    <!-- Fixed Table of Contents -->
    <nav id="tocNav" class="fixed left-0 top-0 h-screen w-80 bg-white shadow-xl border-r border-gray-200 z-50 overflow-y-auto transform -translate-x-full lg:translate-x-0 transition-transform duration-300">
      <!-- Close button for mobile -->
      <button id="closeToc" class="lg:hidden absolute top-4 right-4 text-gray-500 hover:text-gray-700">
        <i class="fas fa-times"></i>
      </button>
      <div class="p-8">
        <h3 class="font-serif text-lg font-semibold text-primary mb-6">Table of Contents</h3>
        <ul class="space-y-3 text-sm">
          <li>
            <a href="#introduction" class="block py-2 px-3 rounded hover:bg-gray-100 transition-colors">Introduction to Infiniology</a>
          </li>
          <li>
            <a href="#core-concepts" class="block py-2 px-3 rounded hover:bg-gray-100 transition-colors">Core Concepts</a>
            <ul class="ml-4 mt-2 space-y-2 text-xs text-gray-600">
              <li>
                <a href="#infinity-source" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">Infinity as Foundational Source</a>
              </li>
              <li>
                <a href="#limit-infinity" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">The Limit of Infinity</a>
              </li>
              <li>
                <a href="#aspects-infinity" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">Aspects of Infinity</a>
              </li>
              <li>
                <a href="#dualities" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">Framework of Dualities</a>
              </li>
              <li>
                <a href="#balance-imbalance" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">Balance and Imbalance</a>
              </li>
              <li>
                <a href="#distortion" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">Distortion</a>
              </li>
              <li>
                <a href="#stabilization" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">Stabilization and Narrative</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="#mythological-foundations" class="block py-2 px-3 rounded hover:bg-gray-100 transition-colors">Mythological Foundations</a>
            <ul class="ml-4 mt-2 space-y-2 text-xs text-gray-600">
              <li>
                <a href="#christianity" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">Christianity: Infinite God</a>
              </li>
              <li>
                <a href="#egyptian" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">Egyptian: Ma&#39;at and Isfet</a>
              </li>
              <li>
                <a href="#norse" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">Norse: Yggdrasil</a>
              </li>
              <li>
                <a href="#hindu" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">Hindu: Purusha</a>
              </li>
              <li>
                <a href="#mesopotamian" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">Mesopotamian: Enuma Elish</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="#multiverse-time" class="block py-2 px-3 rounded hover:bg-gray-100 transition-colors">Multiverse &amp; Time Travel</a>
            <ul class="ml-4 mt-2 space-y-2 text-xs text-gray-600">
              <li>
                <a href="#multiverse-structure" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">Multiverse Structure</a>
              </li>
              <li>
                <a href="#time-travel" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">Time Travel Mechanics</a>
              </li>
              <li>
                <a href="#reality-variations" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">Reality Variations</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="#cultural-frameworks" class="block py-2 px-3 rounded hover:bg-gray-100 transition-colors">Cultural Frameworks</a>
            <ul class="ml-4 mt-2 space-y-2 text-xs text-gray-600">
              <li>
                <a href="#mythology-influence" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">Mythology&#39;s Influence</a>
              </li>
              <li>
                <a href="#technology-advancement" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">Technology &amp; Advancement</a>
              </li>
              <li>
                <a href="#power-corruption" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">Corruption of Power</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="#science-psychology" class="block py-2 px-3 rounded hover:bg-gray-100 transition-colors">Science &amp; Psychology</a>
            <ul class="ml-4 mt-2 space-y-2 text-xs text-gray-600">
              <li>
                <a href="#psychology-applications" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">Psychological Applications</a>
              </li>
              <li>
                <a href="#physical-sciences" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">Physical Sciences</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="#practical-applications" class="block py-2 px-3 rounded hover:bg-gray-100 transition-colors">Practical Applications</a>
            <ul class="ml-4 mt-2 space-y-2 text-xs text-gray-600">
              <li>
                <a href="#world-lore" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">World Lore &amp; History</a>
              </li>
              <li>
                <a href="#game-systems" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">Game Systems &amp; Mechanics</a>
              </li>
              <li>
                <a href="#narrative-storytelling" class="block py-1 px-2 rounded hover:bg-gray-100 transition-colors">Narrative Storytelling</a>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="lg:ml-80">

      <!-- Toggle button for mobile TOC -->
      <button id="toggleToc" class="lg:hidden fixed top-4 left-4 z-50 bg-primary text-white p-2 rounded">
        <i class="fas fa-bars"></i>
      </button>

      <!-- Hero Section -->
      <section class="bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 text-white relative overflow-hidden">
        <div class="absolute inset-0 opacity-10">
          <img src="https://kimi-web-img.moonshot.cn/img/img1.bjd.com.cn/8f29b27c4b17085942d17ad9499496713c1f3df6.jpeg" alt="Cosmic tree connecting multiple worlds" class="w-full h-full object-cover" size="wallpaper" aspect="wide" query="cosmic tree multiverse" referrerpolicy="no-referrer" data-modified="1" data-score="0.00"/>
        </div>
        <div class="relative z-10 bg-gradient-to-r from-slate-900/90 to-transparent">
          <div class="max-w-7xl mx-auto px-8 py-16">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center min-h-[60vh]">
              <div class="space-y-8">
                <h1 class="font-serif text-4xl sm:text-5xl lg:text-7xl font-semibold leading-tight">
                  <span class="italic text-amber-400">Infiniology</span>
                  <br/>
                  <span class="text-2xl sm:text-3xl lg:text-4xl font-light">A Narrative-Driven Framework for Worldbuilding</span>
                </h1>
                <p class="text-lg sm:text-xl text-gray-300 leading-relaxed max-w-2xl">
                  Explore the infinite possibilities of creation through the foundational principles of Infinity,
                  Limitation, and Dynamic Dualities. Transform your storytelling through mythological depth
                  and psychological resonance.
                </p>
                <div class="flex flex-wrap gap-4 pt-4">
                  <span class="px-4 py-2 bg-amber-500/20 text-amber-300 rounded-full text-sm border border-amber-500/30">
                    <i class="fas fa-infinity mr-2"></i>Cosmic Framework
                  </span>
                  <span class="px-4 py-2 bg-blue-500/20 text-blue-300 rounded-full text-sm border border-blue-500/30">
                    <i class="fas fa-book mr-2"></i>Narrative Design
                  </span>
                  <span class="px-4 py-2 bg-purple-500/20 text-purple-300 rounded-full text-sm border border-purple-500/30">
                    <i class="fas fa-brain mr-2"></i>Psychological Depth
                  </span>
                </div>
              </div>
              <div class="relative">
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                  <div class="bg-white/10 backdrop-blur-sm rounded-lg p-6 border border-white/20">
                    <h3 class="font-serif text-xl font-semibold mb-3 text-amber-400">∞ Infinity</h3>
                    <p class="text-sm text-gray-300">The boundless source from which all realities emerge</p>
                  </div>
                  <div class="bg-white/10 backdrop-blur-sm rounded-lg p-6 border border-white/20">
                    <h3 class="font-serif text-xl font-semibold mb-3 text-blue-400">Limit</h3>
                    <p class="text-sm text-gray-300">The structuring principle that shapes infinite potential into coherent worlds</p>
                  </div>
                  <div class="bg-white/10 backdrop-blur-sm rounded-lg p-6 border border-white/20 sm:col-span-2">
                    <h3 class="font-serif text-xl font-semibold mb-3 text-purple-400">Dualities</h3>
                    <p class="text-sm text-gray-300">The dynamic opposing forces that govern all existence: Order/Chaos, Love/Hate, Light/Dark</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Introduction Section -->
      <section id="introduction" class="py-16 bg-white">
        <div class="max-w-4xl mx-auto px-8">
          <div class="prose prose-lg max-w-none">
            <p class="text-xl text-gray-600 leading-relaxed mb-8 font-medium">
              Infiniology is a narrative-driven worldbuilding framework that uses the concepts of a foundational <strong>Infinity</strong>,
              a structuring <strong>Limit</strong>, and dynamic <strong>Dualities</strong> (like Order/Chaos, Love/Hate) to create fictional worlds,
              characters, and stories. It draws on comparative mythology and psychology to provide a toolkit for writers and game designers,
              explaining everything from cosmology and magic systems to character motivations and societal development through this core lens.
            </p>

            <div class="bg-amber-50 border-l-4 border-amber-500 p-6 my-8">
              <div class="flex">
                <div class="flex-shrink-0">
                  <i class="fas fa-lightbulb text-amber-500 text-xl"></i>
                </div>
                <div class="ml-3">
                  <h4 class="font-serif text-lg font-semibold text-amber-800 mb-2">Key Insight</h4>
                  <p class="text-amber-700">
                    Infiniology transforms abstract philosophical concepts into practical storytelling tools,
                    bridging the gap between cosmic principles and human-scale narratives.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Copyright Notice in Footer -->
      <footer class="bg-gray-900 text-white py-12">
        <div class="max-w-6xl mx-auto px-8">
          <div class="text-center">
            <h3 class="font-serif text-2xl font-semibold mb-4">Infiniology: A Framework for Infinite Creation</h3>
            <p class="text-gray-300 mb-6 max-w-3xl mx-auto">
              Through the principles of Infinity, Limit, and Dynamic Dualities, worldbuilders can create
              stories and settings that resonate with mythological depth and psychological truth.
            </p>
            <div class="flex justify-center space-x-6 text-sm text-gray-400">
              <span>© 2024 Zeiendos. All rights reserved.</span>
              <span>•</span>
              <span>Narrative-Driven Worldbuilding</span>
              <span>•</span>
              <span>For Writers &amp; Game Designers</span>
            </div>
          </div>
        </div>
      </footer>
    </main>

    <script>
        // Initialize Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'base',
            themeVariables: {
                primaryColor: '#ffffff',
                primaryTextColor: '#1f2937',
                primaryBorderColor: '#374151',
                lineColor: '#6b7280',
                sectionBkgColor: '#f9fafb',
                altSectionBkgColor: '#ffffff',
                gridColor: '#e5e7eb',
                secondaryColor: '#f3f4f6',
                tertiaryColor: '#f9fafb',
                background: '#ffffff',
                mainBkg: '#ffffff',
                secondBkg: '#f9fafb',
                tertiaryBkg: '#f3f4f6'
            },
            flowchart: {
                htmlLabels: true,
                curve: 'basis',
                padding: 20
            },
            sequence: {
                padding: 20
            },
            gantt: {
                padding: 20
            }
        });

        // Initialize Mermaid Controls for zoom and pan
        function initializeMermaidControls() {
            const containers = document.querySelectorAll('.mermaid-container');

            containers.forEach(container => {
            const mermaidElement = container.querySelector('.mermaid');
            let scale = 1;
            let isDragging = false;
            let startX, startY, translateX = 0, translateY = 0;

            // 触摸相关状态
            let isTouch = false;
            let touchStartTime = 0;
            let initialDistance = 0;
            let initialScale = 1;
            let isPinching = false;

            // Zoom controls
            const zoomInBtn = container.querySelector('.zoom-in');
            const zoomOutBtn = container.querySelector('.zoom-out');
            const resetBtn = container.querySelector('.reset-zoom');
            const fullscreenBtn = container.querySelector('.fullscreen');

            function updateTransform() {
                mermaidElement.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;

                if (scale > 1) {
                container.classList.add('zoomed');
                } else {
                container.classList.remove('zoomed');
                }

                mermaidElement.style.cursor = isDragging ? 'grabbing' : 'grab';
            }

            if (zoomInBtn) {
                zoomInBtn.addEventListener('click', () => {
                scale = Math.min(scale * 1.25, 4);
                updateTransform();
                });
            }

            if (zoomOutBtn) {
                zoomOutBtn.addEventListener('click', () => {
                scale = Math.max(scale / 1.25, 0.3);
                if (scale <= 1) {
                    translateX = 0;
                    translateY = 0;
                }
                updateTransform();
                });
            }

            if (resetBtn) {
                resetBtn.addEventListener('click', () => {
                scale = 1;
                translateX = 0;
                translateY = 0;
                updateTransform();
                });
            }

            if (fullscreenBtn) {
                fullscreenBtn.addEventListener('click', () => {
                if (container.requestFullscreen) {
                    container.requestFullscreen();
                } else if (container.webkitRequestFullscreen) {
                    container.webkitRequestFullscreen();
                } else if (container.msRequestFullscreen) {
                    container.msRequestFullscreen();
                }
                });
            }

            // Mouse Events
            mermaidElement.addEventListener('mousedown', (e) => {
                if (isTouch) return; // 如果是触摸设备，忽略鼠标事件

                isDragging = true;
                startX = e.clientX - translateX;
                startY = e.clientY - translateY;
                mermaidElement.style.cursor = 'grabbing';
                updateTransform();
                e.preventDefault();
            });

            document.addEventListener('mousemove', (e) => {
                if (isDragging && !isTouch) {
                translateX = e.clientX - startX;
                translateY = e.clientY - startY;
                updateTransform();
                }
            });

            document.addEventListener('mouseup', () => {
                if (isDragging && !isTouch) {
                isDragging = false;
                mermaidElement.style.cursor = 'grab';
                updateTransform();
                }
            });

            document.addEventListener('mouseleave', () => {
                if (isDragging && !isTouch) {
                isDragging = false;
                mermaidElement.style.cursor = 'grab';
                updateTransform();
                }
            });

            // 获取两点之间的距离
            function getTouchDistance(touch1, touch2) {
                return Math.hypot(
                touch2.clientX - touch1.clientX,
                touch2.clientY - touch1.clientY
                );
            }

            // Touch Events - 触摸事件处理
            mermaidElement.addEventListener('touchstart', (e) => {
                isTouch = true;
                touchStartTime = Date.now();

                if (e.touches.length === 1) {
                // 单指拖动
                isPinching = false;
                isDragging = true;

                const touch = e.touches[0];
                startX = touch.clientX - translateX;
                startY = touch.clientY - translateY;

                } else if (e.touches.length === 2) {
                // 双指缩放
                isPinching = true;
                isDragging = false;

                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                initialDistance = getTouchDistance(touch1, touch2);
                initialScale = scale;
                }

                e.preventDefault();
            }, { passive: false });

            mermaidElement.addEventListener('touchmove', (e) => {
                if (e.touches.length === 1 && isDragging && !isPinching) {
                // 单指拖动
                const touch = e.touches[0];
                translateX = touch.clientX - startX;
                translateY = touch.clientY - startY;
                updateTransform();

                } else if (e.touches.length === 2 && isPinching) {
                // 双指缩放
                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                const currentDistance = getTouchDistance(touch1, touch2);

                if (initialDistance > 0) {
                    const newScale = Math.min(Math.max(
                    initialScale * (currentDistance / initialDistance),
                    0.3
                    ), 4);
                    scale = newScale;
                    updateTransform();
                }
                }

                e.preventDefault();
            }, { passive: false });

            mermaidElement.addEventListener('touchend', (e) => {
                // 重置状态
                if (e.touches.length === 0) {
                isDragging = false;
                isPinching = false;
                initialDistance = 0;

                // 延迟重置isTouch，避免鼠标事件立即触发
                setTimeout(() => {
                    isTouch = false;
                }, 100);
                } else if (e.touches.length === 1 && isPinching) {
                // 从双指变为单指，切换为拖动模式
                isPinching = false;
                isDragging = true;

                const touch = e.touches[0];
                startX = touch.clientX - startX;
                startY = touch.clientY - startY;
                }

                updateTransform();
            });

            mermaidElement.addEventListener('touchcancel', (e) => {
                isDragging = false;
                isPinching = false;
                initialDistance = 0;

                setTimeout(() => {
                isTouch = false;
                }, 100);

                updateTransform();
            });

            // Enhanced wheel zoom with better center point handling
            container.addEventListener('wheel', (e) => {
                e.preventDefault();
                const rect = container.getBoundingClientRect();
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;

                const delta = e.deltaY > 0 ? 0.9 : 1.1;
                const newScale = Math.min(Math.max(scale * delta, 0.3), 4);

                // Adjust translation to zoom towards center
                if (newScale !== scale) {
                const scaleDiff = newScale / scale;
                translateX = translateX * scaleDiff;
                translateY = translateY * scaleDiff;
                scale = newScale;

                if (scale <= 1) {
                    translateX = 0;
                    translateY = 0;
                }

                updateTransform();
                }
            });

            // Initialize display
            updateTransform();
            });
        }

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Highlight active section in TOC
        const observerOptions = {
            rootMargin: '-20% 0px -70% 0px',
            threshold: 0
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                const id = entry.target.getAttribute('id');
                const tocLink = document.querySelector(`a[href="#${id}"]`);
                
                if (entry.isIntersecting) {
                    // Remove active class from all links
                    document.querySelectorAll('#tocNav a').forEach(link => {
                        link.classList.remove('bg-primary', 'text-white');
                        link.classList.add('hover:bg-gray-100');
                    });
                    // Add active class to current link
                    if (tocLink) {
                        tocLink.classList.add('bg-primary', 'text-white');
                        tocLink.classList.remove('hover:bg-gray-100');
                    }
                }
            });
        }, observerOptions);

        // Observe all sections with IDs
        document.querySelectorAll('[id]').forEach(section => {
            observer.observe(section);
        });

        // TOC toggle functionality
        document.addEventListener('DOMContentLoaded', function() {
            const tocNav = document.getElementById('tocNav');
            const toggleToc = document.getElementById('toggleToc');
            const closeToc = document.getElementById('closeToc');
            
            if (toggleToc) {
                toggleToc.addEventListener('click', function() {
                    tocNav.classList.toggle('-translate-x-full');
                });
            }
            
            if (closeToc) {
                closeToc.addEventListener('click', function() {
                    tocNav.classList.add('-translate-x-full');
                });
            }
            
            // Close TOC when clicking on a link (for mobile)
            document.querySelectorAll('#tocNav a').forEach(link => {
                link.addEventListener('click', function() {
                    if (window.innerWidth < 1024) { // Only for mobile
                        tocNav.classList.add('-translate-x-full');
                    }
                });
            });
        });

        // Initialize mermaid controls after DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            initializeMermaidControls();
        });
    </script>
  
<!-- Copyright notice in comments for additional clarity -->
<!-- © 2024 Zeiendos. All rights reserved. -->

</body>
</html>